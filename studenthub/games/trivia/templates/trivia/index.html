{% extends 'hub/base.html' %}

{% block title %}
    StudentHub || Trivia
{% endblock %}

{% block content %}
<h1 align="center">Trivia Game!</h1>
<form method="post" action="play"> {% csrf_token %}
    <div id="trivia-options" align="center">
    <select name="qty-questions" size="1" id="qty-select"></select>
    <select name="dif-questions" size="1" id="dif-select"></select>
    <select name="cat-questions" size="1" id="cat-select"></select>
    <br>
    <input type="submit" value="Play Trivia">
    </div>
</form>

<!-- Table of best games here -->
<!-- Table of best trivia game players here -->

{% endblock %}


{% block script %}
<script>
// Trivia schema object
var triviaSchema = {
    //difficulty: ['easy', 'medium', 'hard'],
    //category: ['testa', 'testb', 'testc'],
    difficulty: [],
    category: ['{{ ANY_CATEGORY }}'], // Prepend list with ANY_CATEGORY option
    qty: [10, 20, 30]
};


// Iteratively populate difficulties
{% if dif_list %}
    {% for dif in dif_list %}
        triviaSchema.difficulty.push('{{ dif }}');
    {% endfor %}
{% endif %}

// Iteratively populate categories
{% if cat_list %}
    {% for cat in cat_list %}
        triviaSchema.category.push('{{ cat }}');
    {% endfor %}
{% endif %}

/* Use function defined in hub/base.html */

// populate trivia question qty list
populateSelectElement('qty-select', triviaSchema.qty);

// Populate difficulty list
populateSelectElement('dif-select', triviaSchema.difficulty);

// Populate category list
populateSelectElement('cat-select', triviaSchema.category);

</script>

{% endblock %}